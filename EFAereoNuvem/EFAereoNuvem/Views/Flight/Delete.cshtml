@model EFAereoNuvem.Models.Flight

@{
    ViewData["Title"] = "Detalhes do Voo";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h4 class="mb-0"><i class="bi bi-airplane"></i> Detalhes do Voo</h4>
                </div>
                <div class="card-body">
                    <dl class="row">
                        <dt class="col-sm-3">Código:</dt>
                        <dd class="col-sm-9">@Model.CodeFlight</dd>

                        <dt class="col-sm-3">Tipo:</dt>
                        <dd class="col-sm-9">
                            <span class="badge bg-primary">@Model.TypeFlight</span>
                        </dd>

                        <dt class="col-sm-3">Origem:</dt>
                        <dd class="col-sm-9">@Model.Origin</dd>

                        <dt class="col-sm-3">Destino:</dt>
                        <dd class="col-sm-9">@Model.Destination</dd>

                        <dt class="col-sm-3">Data:</dt>
                        <dd class="col-sm-9">@Model.DateFlight.ToString("dd/MM/yyyy")</dd>

                        <dt class="col-sm-3">Partida:</dt>
                        <dd class="col-sm-9">@Model.Departure.ToString("HH:mm")</dd>

                        <dt class="col-sm-3">Chegada:</dt>
                        <dd class="col-sm-9">@Model.Arrival.ToString("HH:mm")</dd>

                        <dt class="col-sm-3">Duração:</dt>
                        <dd class="col-sm-9">@Model.Duration horas</dd>

                        <dt class="col-sm-3">Aeronave:</dt>
                        <dd class="col-sm-9">@Model.Airplane?.Prefix - @Model.Airplane?.Type</dd>
                    </dl>

                    @if (Model.ExistScale && Model.Scales.Any())
                    {
                        <h5 class="border-bottom pb-2 mt-4">Escalas</h5>
                        <div class="table-responsive">
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th>Local</th>
                                        <th>Chegada</th>
                                        <th>Partida</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var scale in Model.Scales.OrderBy(s => s.Arrival))
                                    {
                                        <tr>
                                            <td>@scale.Location</td>
                                            <td>@scale.Arrival.ToString("HH:mm")</td>
                                            <td>@scale.Departure.ToString("HH:mm")</td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }

                    <div class="mt-4">
                        <a asp-action="Index" class="btn btn-secondary">Voltar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>